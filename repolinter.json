{
  "$schema": "https://raw.githubusercontent.com/todogroup/repolinter/master/rulesets/schema.json",
  "version": 2,
  "axioms": {},
  "rules": {
    "license-file-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": ["LICENSE", "LICENSE.*", "license", "license.*"]
        }
      },
      "policyInfo": "A LICENSE file is required."
    },
    "readme-file-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": ["README.md", "README.MD"]
        }
      },
      "policyInfo": "A README.md at repo root is required."
    },
    "codeowners-file-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": [".github/CODEOWNERS", "CODEOWNERS"]
        }
      },
      "policyInfo": "CODEOWNERS is required to enable review ownership."
    },
    "cogni-repospec-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": [".cogni/repo-spec.yaml"]
        }
      },
      "policyInfo": "Cogni governance contract must exist."
    },
    "workflows-folder-present": {
      "level": "warning",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": [".github/workflows/**"]
        }
      },
      "policyInfo": "At least one GitHub Actions workflow should exist."
    },
    "editorconfig-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": [".editorconfig"]
        }
      },
      "policyInfo": ".editorconfig is required for consistent editors."
    },
    "gitignore-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": [".gitignore"]
        }
      },
      "policyInfo": ".gitignore is required."
    },
    "prettier-config-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": [".prettierrc", ".prettierrc.*"]
        }
      },
      "policyInfo": "Prettier config is required."
    },
    "eslint-config-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": ["eslint.config.mjs"]
        }
      },
      "policyInfo": "ESLint flat config is required."
    },
    "commitlint-config-exists": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": ["commitlint.config.cjs"]
        }
      },
      "policyInfo": "Commitlint config is required."
    },
    "contributing-exists": {
      "level": "warning",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": ["CONTRIBUTING.md"]
        }
      },
      "policyInfo": "Contributor guidelines recommended."
    },
    "security-policy-exists": {
      "level": "warning",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": ["SECURITY.md"]
        }
      },
      "policyInfo": "Security policy recommended."
    },
    "code-of-conduct-exists": {
      "level": "warning",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": ["CODE_OF_CONDUCT.md"]
        }
      },
      "policyInfo": "Code of Conduct recommended."
    },
    "workflows-run-check": {
      "level": "warning",
      "rule": {
        "type": "file-contents",
        "options": {
          "files": [".github/workflows/ci.yaml"],
          "content": "pnpm check"
        }
      },
      "policyInfo": "CI should run pnpm check."
    },
    "husky-hooks-exist": {
      "level": "warning",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": [".husky/pre-commit", ".husky/pre-push"]
        }
      },
      "policyInfo": "Local hooks recommended."
    },
    "node-engines-pinned": {
      "level": "warning",
      "rule": {
        "type": "file-contents",
        "options": {
          "files": ["package.json"],
          "content": "\"engines\"\\s*:\\s*\\{\\s*\"node\"\\s*:\\s*\"20\\.x\""
        }
      },
      "policyInfo": "Pin Node in package.json engines."
    },
    "only-approved-root-entries": {
      "level": "error",
      "rule": {
        "type": "git-list-tree",
        "options": {
          "denylist": [
            "^(?!(",
            "README\\.md|CONTRIBUTING\\.md|SECURITY\\.md|CODE_OF_CONDUCT\\.md|",
            "LICENSE(\\..*)?|",
            "AGENTS\\.md|AGENTS_template\\.md|CLAUDE\\.md|",
            "Dockerfile|\\.dockerignore|",
            "\\.editorconfig|\\.gitignore|\\.nvmrc|\\.prettierignore|\\.prettierrc(\\..*)?|",
            "\\.env\\.(example|local\\.example|test\\.example|docker\\.example|stack\\.local\\.example)|",
            "\\.mcp\\.json|",
            "commitlint\\.config\\.cjs|eslint\\.config\\.mjs|repolinter\\.json|",
            "components\\.json|sonar-project\\.properties|",
            "package\\.json|pnpm-lock\\.yaml|",
            "tsconfig\\.json|tsconfig\\.eslint\\.json|",
            "tailwind\\.config\\.ts|postcss\\.config\\.mjs|",
            "next\\.config\\.ts|next-env\\.d\\.ts|",
            "vitest\\.config\\.mts|vitest\\.integration\\.config\\.mts|vitest\\.stack\\.config\\.mts|vitest\\.api\\.config\\.mts|playwright\\.config\\.(ts|js|mjs)|drizzle\\.config\\.ts|",
            "\\.allstar|\\.claude|\\.cogni|\\.cursor|\\.github|\\.husky|\\.reuse|REUSE\\.toml|LICENSES|docs|src|public",
            ")$)[^/]+$"
          ],
          "ignoreCase": true
        }
      },
      "policyInfo": "Only approved files and directories allowed at repository root."
    },
    "required-directories": {
      "level": "error",
      "rule": {
        "type": "file-existence",
        "options": {
          "globsAny": [
            "src/app/",
            "src/features/",
            "src/ports/",
            "src/core/",
            "src/adapters/server/",
            "src/shared/",
            "src/bootstrap/",
            "docs/",
            "infra/",
            "public/",
            "tests/",
            "e2e/",
            "scripts/",
            ".cogni/",
            ".allstar/"
          ]
        }
      },
      "policyInfo": "All essential hexagonal, infra, and test directories must exist."
    }
  }
}
