name: Enforce release/* → main PRs only

on:
  pull_request:
    branches: [main]

jobs:
  block-non-release:
    runs-on: ubuntu-latest
    if: ${{ !startsWith(github.head_ref, 'release/') }}
    steps:
      - name: Fail PR
        run: |
          echo "Only branches matching release/* may open PRs into main."
          echo "Create a PR into staging, then a release/* branch, then PR release/* → main."
          exit 1
