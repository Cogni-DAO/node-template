{
  "name": "cogni-template",
  "version": "0.1.0",
  "private": true,
  "packageManager": "pnpm@9.12.2",
  "volta": {
    "node": "20.19.0",
    "pnpm": "9.12.2"
  },
  "scripts": {
    "start:stack": "pnpm dev:infra && pnpm start",
    "check": "bash scripts/check-fast.sh",
    "check:fix": "bash scripts/check-fast.sh --fix",
    "check:full": "bash scripts/check-full.sh",
    "check:full:fast": "bash scripts/check-full.sh --skip-build",
    "check:code": "pnpm typecheck && pnpm lint && pnpm format:check && pnpm test",
    "check:ci": "pnpm check && pnpm e2e",
    "check:docs": "pnpm -s run check:docs:agents && pnpm -s run check:docs:headers",
    "check:docs:agents": "node scripts/validate-agents-md.mjs",
    "check:docs:headers": "tsx scripts/validate-doc-headers.ts",
    "check:root-layout": "pnpm tsx scripts/check-root-layout.ts",
    "arch:check": "depcruise src packages services --config .dependency-cruiser.cjs --include-only '^(src|packages|services)' --exclude '__arch_probes__' --output-type err-long",
    "arch:graph": "depcruise src packages services --config .dependency-cruiser.cjs --include-only '^(src|packages|services)' --output-type dot",
    "dev": "dotenv -e .env.local -- next dev",
    "dev:pretty": "pnpm dev | pino-pretty -S",
    "dev:infra": "docker network create cogni-edge || true && docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml up -d git-sync postgres litellm loki grafana alloy temporal-postgres temporal temporal-ui scheduler-worker",
    "dev:infra:test": "docker network create cogni-edge || true && DATABASE_SERVICE_URL_DOCKER=postgresql://app_service:service_password@postgres:5432/cogni_template_stack_test docker compose --env-file .env.test -f platform/infra/services/runtime/docker-compose.dev.yml up -d git-sync postgres litellm loki grafana alloy temporal-postgres temporal temporal-ui scheduler-worker",
    "dev:infra:down": "pnpm sourcecred:down && docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml down",
    "dev:stack": "pnpm dev:infra && pnpm dev",
    "dev:stack:pretty": "pnpm dev:infra && pnpm dev:pretty",
    "dev:stack:test": "pnpm dev:infra:test && dotenv -e .env.test -- next dev",
    "dev:stack:test:setup": "pnpm dev:infra:test && pnpm db:setup:test",
    "db:generate": "dotenv -e .env.local -- tsx node_modules/drizzle-kit/bin.cjs generate",
    "db:provision": "docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml --profile bootstrap run --rm db-provision",
    "db:provision:test": "docker compose --env-file .env.test -f platform/infra/services/runtime/docker-compose.dev.yml --profile bootstrap run --rm db-provision",
    "db:migrate": "pnpm db:migrate:dev",
    "db:migrate:dev": "dotenv -e .env.local -- tsx node_modules/drizzle-kit/bin.cjs migrate",
    "db:migrate:test": "dotenv -e .env.test -- tsx node_modules/drizzle-kit/bin.cjs migrate",
    "db:migrate:direct": "tsx node_modules/drizzle-kit/bin.cjs migrate",
    "db:migrate:container": "pnpm db:migrate:direct",
    "db:seed": "[ -f scripts/db/seed.ts ] && tsx scripts/db/seed.ts || echo 'ℹ️  Skipping seed (not implemented yet)'",
    "db:setup": "pnpm db:provision && pnpm db:migrate && pnpm db:seed",
    "db:setup:test": "pnpm db:provision:test && pnpm db:migrate:test",
    "db:drop:test": "pnpm tsx --tsconfig tsconfig.scripts.json scripts/db/drop-test-db.ts",
    "db:reset:test": "pnpm db:drop:test || true && pnpm db:setup:test",
    "docker:dev:down": "pnpm sourcecred:down && docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml down",
    "docker:dev:stack": "docker network create cogni-edge || true && DB_PORT=5432 docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml up -d --build && pnpm sourcecred:up",
    "docker:dev:stack:fast": "docker network create cogni-edge || true && DB_PORT=5432 docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml up -d",
    "docker:dev:stack:setup": "pnpm docker:dev:stack:fast && pnpm db:setup",
    "docker:test:stack": "docker network create cogni-edge || true && DB_PORT=5432 DATABASE_SERVICE_URL_DOCKER=postgresql://app_service:service_password@postgres:5432/cogni_template_stack_test docker compose --env-file .env.test -f platform/infra/services/runtime/docker-compose.dev.yml up -d --build",
    "docker:test:stack:fast": "docker network create cogni-edge || true && DB_PORT=5432 DATABASE_SERVICE_URL_DOCKER=postgresql://app_service:service_password@postgres:5432/cogni_template_stack_test docker compose --env-file .env.test -f platform/infra/services/runtime/docker-compose.dev.yml up -d",
    "docker:test:stack:down": "docker compose --env-file .env.test -f platform/infra/services/runtime/docker-compose.dev.yml down",
    "docker:test:stack:setup": "pnpm docker:test:stack:fast && pnpm db:setup:test",
    "docker:test:stack:reset": "pnpm docker:test:stack:down && pnpm db:drop:test || true && pnpm docker:test:stack:setup",
    "docker:down": "pnpm sourcecred:down && docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml down",
    "docker:nuke": "dotenv -e .env.local -- sh -c 'docker compose -f platform/infra/services/sourcecred/docker-compose.sourcecred.yml down -v && docker compose -f platform/infra/services/runtime/docker-compose.dev.yml down -v'",
    "docker:nuke:test": "dotenv -e .env.test -- sh -c 'docker compose -f platform/infra/services/sourcecred/docker-compose.sourcecred.yml down -v && docker compose -f platform/infra/services/runtime/docker-compose.dev.yml down -v'",
    "docker:edge:up": "docker network create cogni-edge || true && dotenv -e .env.local -- docker compose -f platform/infra/services/edge/docker-compose.yml up -d",
    "docker:edge:down": "dotenv -e .env.local -- docker compose -f platform/infra/services/edge/docker-compose.yml down",
    "docker:stack": "docker network create cogni-edge || true && DB_PORT=5432 docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml up -d --build && pnpm sourcecred:up",
    "docker:stack:fast": "docker network create cogni-edge || true && DB_PORT=5432 docker compose --env-file .env.local -f platform/infra/services/runtime/docker-compose.dev.yml up -d && pnpm sourcecred:up",
    "docker:stack:setup": "pnpm docker:stack",
    "sourcecred:build": "dotenv -e .env.local -- docker compose -f platform/infra/services/sourcecred/docker-compose.sourcecred.yml build",
    "sourcecred:load": "dotenv -e .env.local -- docker compose -f platform/infra/services/sourcecred/docker-compose.sourcecred.yml run --rm sourcecred yarn load",
    "sourcecred:up": "dotenv -e .env.local -- docker compose -f platform/infra/services/sourcecred/docker-compose.sourcecred.yml up -d",
    "sourcecred:down": "dotenv -e .env.local -- docker compose -f platform/infra/services/sourcecred/docker-compose.sourcecred.yml down",
    "langfuse:trace": "dotenv -e .env.local -- sh -c 'curl -s -u \"${LANGFUSE_PUBLIC_KEY}:${LANGFUSE_SECRET_KEY}\" \"${LANGFUSE_BASE_URL}/api/public/traces?limit=1\" | jq .'",
    "langgraph:dev": "dotenv -e .env.local -- sh -c 'cd packages/langgraph-graphs && npx @langchain/langgraph-cli dev'",
    "scheduler:build": "pnpm --filter @cogni/scheduler-worker-service build",
    "scheduler:dev": "dotenv -e .env.local -- pnpm --filter @cogni/scheduler-worker-service dev",
    "scheduler:docker:build": "docker build -f services/scheduler-worker/Dockerfile -t cogni-scheduler-worker-local .",
    "sandbox:docker:build": "docker build -f services/sandbox-runtime/Dockerfile -t cogni-sandbox-runtime:latest .",
    "packages:build": "pnpm -r --filter \"./packages/**\" build && tsc -b && pnpm packages:validate",
    "packages:validate": "tsx --tsconfig tsconfig.scripts.json scripts/validate-package-declarations.ts",
    "packages:clean": "rm -rf packages/*/dist packages/*/*.tsbuildinfo",
    "prebuild": "pnpm validate:chain",
    "build": "next build",
    "start": "next start -p 3000 -H 0.0.0.0",
    "lint": "biome check . && eslint src/app src/components src/features src/styles --report-unused-disable-directives --max-warnings=0 --no-error-on-unmatched-pattern",
    "lint:fix": "biome check . --write && eslint src/app src/components src/features src/styles --fix --report-unused-disable-directives --max-warnings=0 --no-error-on-unmatched-pattern",
    "format": "pnpm format:biome && pnpm format:prettier",
    "format:check": "pnpm format:biome:check && pnpm format:prettier:check",
    "format:biome": "biome format --write",
    "format:biome:check": "biome format",
    "format:prettier": "prettier --log-level=warn --write \"**/*.{md,css,yaml,yml}\"",
    "format:prettier:check": "prettier --log-level=warn --check \"**/*.{md,css,yaml,yml}\"",
    "typecheck": "tsc -p tsconfig.app.json --noEmit",
    "typecheck:full": "tsc -b",
    "test": "vitest run",
    "test:unit": "vitest run tests/unit tests/ports",
    "test:ci": "vitest run --coverage.enabled=true --coverage.reporter=lcov --coverage.reporter=json-summary --coverage.reporter=text",
    "test:int": "vitest run --config vitest.integration.config.mts",
    "test:contract": "vitest run tests/contract",
    "test:meta": "vitest run tests/meta",
    "test:packages:local": "vitest run packages/*/tests",
    "test:packages:integration": "vitest run tests/packages",
    "test:packages": "pnpm -s test:packages:local && pnpm -s test:packages:integration",
    "test:services:local": "ls services/*/tests >/dev/null 2>&1 && vitest run services/*/tests || echo 'No service tests found (skipped)'",
    "test:stack:dev": "TEST_BASE_URL=http://localhost:3000/ dotenv -e .env.test -- vitest run --config vitest.stack.config.mts",
    "test:stack:docker": "DB_HOST=localhost DB_PORT=55432 TEST_BASE_URL=https://localhost/ dotenv -e .env.test -- vitest run --config vitest.stack.config.mts",
    "test:lint": "vitest run tests/lint",
    "test:arch": "vitest run tests/arch",
    "e2e": "dotenv -e .env -- playwright test --project=staging-full",
    "e2e:smoke": "dotenv -e .env -- playwright test --project=smoke",
    "e2e:prod": "pnpm e2e:smoke",
    "e2e:all": "dotenv -e .env -- playwright test --project=staging-full --project=smoke",
    "e2e:file": "dotenv -e .env -- playwright test",
    "e2e:debug": "dotenv -e .env -- env PWDEBUG=1 playwright test",
    "e2e:report": "playwright show-report e2e/artifacts/report",
    "env:check": "tsx --tsconfig tsconfig.scripts.json scripts/check-runtime-env.ts",
    "validate:chain": "tsx --no-cache --tsconfig tsconfig.scripts.json scripts/validate-chain-config.ts",
    "knip": "dotenv -e .env.local -- knip --include files,exports,dependencies",
    "prepare": "husky"
  },
  "engines": {
    "node": "20.x"
  },
  "pnpm": {
    "overrides": {
      "ethers": "5.7.2"
    }
  },
  "lint-staged": {
    "*.{ts,tsx,js,jsx,mjs,cjs}": [
      "biome check --write"
    ],
    "*.{md,css,yaml,yml,json}": [
      "prettier --write"
    ]
  },
  "dependencies": {
    "@assistant-ui/react": "^0.11.52",
    "@assistant-ui/react-data-stream": "^0.11.12",
    "@assistant-ui/react-markdown": "^0.11.6",
    "@auth/drizzle-adapter": "^1.7.0",
    "@cogni/ai-core": "workspace:*",
    "@cogni/ai-tools": "workspace:*",
    "@cogni/aragon-osx": "workspace:*",
    "@cogni/cogni-contracts": "workspace:*",
    "@cogni/db-client": "workspace:*",
    "@cogni/ids": "workspace:*",
    "@cogni/db-schema": "workspace:*",
    "@cogni/langgraph-graphs": "workspace:*",
    "@cogni/scheduler-core": "workspace:*",
    "@langchain/langgraph-sdk": "^0.0.32",
    "@opentelemetry/api": "^1.9.0",
    "@opentelemetry/sdk-node": "^0.208.0",
    "@radix-ui/react-avatar": "^1.1.11",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-progress": "^1.1.8",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-separator": "^1.1.8",
    "@radix-ui/react-slot": "^1.2.4",
    "@radix-ui/react-toggle": "^1.1.10",
    "@radix-ui/react-toggle-group": "^1.1.11",
    "@radix-ui/react-tooltip": "^1.2.8",
    "@rainbow-me/rainbowkit": "2.2.9",
    "@rainbow-me/rainbowkit-siwe-next-auth": "^0.5.0",
    "@tanstack/react-query": "5.90.10",
    "@temporalio/client": "^1.14.1",
    "@ts-rest/core": "^3.52.1",
    "@ts-rest/open-api": "^3.52.1",
    "@tsparticles/engine": "^3.9.1",
    "@tsparticles/react": "^3.0.0",
    "@tsparticles/slim": "^3.9.1",
    "assistant-stream": "^0.2.45",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "^1.1.1",
    "cron-parser": "^4.9.0",
    "drizzle-orm": "^0.44.7",
    "ethers": "^5.7.2",
    "eventsource-parser": "^3.0.6",
    "fast-safe-stringify": "^2.1.1",
    "framer-motion": "^12.23.25",
    "langfuse": "^3.38.6",
    "lucide-react": "^0.552.0",
    "motion": "^12.23.24",
    "next": "16.0.1",
    "next-auth": "^4.24.10",
    "next-themes": "^0.4.6",
    "pino": "^10.1.0",
    "postgres": "^3.4.5",
    "prom-client": "^15.1.3",
    "react": "19.0.0",
    "react-dom": "19.0.0",
    "recharts": "^2.15.4",
    "remark-gfm": "^4.0.1",
    "server-only": "^0.0.1",
    "siwe": "^3.0.0",
    "tailwind-merge": "^3.3.1",
    "tw-animate-css": "^1.4.0",
    "uuid": "^13.0.0",
    "vaul": "^1.1.2",
    "viem": "2.39.3",
    "wagmi": "2.19.5",
    "zod": "^4.1.12",
    "zustand": "^5.0.9"
  },
  "devDependencies": {
    "@axe-core/playwright": "^4.11.0",
    "@biomejs/biome": "^2.3.7",
    "@commitlint/cli": "^19.8.1",
    "@commitlint/config-conventional": "^19.8.1",
    "@eslint/js": "^9.39.1",
    "@next/eslint-plugin-next": "^16.0.1",
    "@playwright/test": "^1.56.1",
    "@poupe/eslint-plugin-tailwindcss": "^0.2.4",
    "@tailwindcss/postcss": "^4.1.16",
    "@testcontainers/postgresql": "^11.8.1",
    "@testing-library/jest-dom": "^6.9.1",
    "@testing-library/react": "^16.3.0",
    "@testing-library/user-event": "^14.6.1",
    "@types/dockerode": "^4.0.1",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@types/uuid": "^11.0.0",
    "@typescript-eslint/eslint-plugin": "^8.46.3",
    "@typescript-eslint/parser": "^8.46.3",
    "@vitest/coverage-v8": "^4.0.9",
    "conventional-changelog-conventionalcommits": "7",
    "dependency-cruiser": "^16.8.1",
    "dockerode": "^4.0.9",
    "dotenv": "^17.2.3",
    "dotenv-cli": "^11.0.0",
    "dotenv-expand": "^12.0.3",
    "drizzle-kit": "^0.31.7",
    "eslint": "^9.39.1",
    "eslint-config-prettier": "^10.1.8",
    "eslint-import-resolver-typescript": "^4.4.4",
    "eslint-plugin-boundaries": "5.1.0",
    "eslint-plugin-check-file": "^3.3.1",
    "eslint-plugin-import": "^2.32.0",
    "eslint-plugin-jsx-a11y": "^6.10.2",
    "eslint-plugin-n": "^17.23.1",
    "eslint-plugin-no-inline-styles": "^1.0.5",
    "eslint-plugin-no-literal-classnames": "^1.2.0",
    "eslint-plugin-react": "^7.37.5",
    "eslint-plugin-react-hooks": "^5.1.0",
    "eslint-plugin-simple-import-sort": "^12.1.1",
    "eslint-plugin-tailwindcss": "^3.18.2",
    "eslint-plugin-tsdoc": "^0.4.0",
    "eslint-plugin-unicorn": "^62.0.0",
    "eslint-plugin-unused-imports": "^4.3.0",
    "fast-glob": "^3.3.3",
    "globals": "^16.5.0",
    "happy-dom": "^20.0.10",
    "husky": "^9.1.7",
    "knip": "^5.70.2",
    "lint-staged": "^16.2.6",
    "next-test-api-route-handler": "^5.0.3",
    "pino-pretty": "^13.1.2",
    "postcss": "^8.5.6",
    "prettier": "^3.6.2",
    "prettier-plugin-tailwindcss": "^0.7.1",
    "shadcn": "^3.5.0",
    "tailwindcss": "^4.1.16",
    "tsup": "^8.5.1",
    "tsx": "^4.20.6",
    "typescript": "^5",
    "undici": "^7.16.0",
    "vite-tsconfig-paths": "^5.1.4",
    "vitest": "^4.0.7",
    "yaml": "^2.6.1"
  }
}
