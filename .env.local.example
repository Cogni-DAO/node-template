# Development Environment Variables
# Copy this to .env.local (never commit .env.local)

# Node environment
NODE_ENV=development

# Application environment (controls adapter wiring)
APP_ENV=production
# APP_ENV=test  # Uncomment to use fake adapters locally (CI sets this automatically)

# App runtime (used by Next.js server/runtime only)
APP_BASE_URL=http://localhost:3000
NEXTAUTH_URL=http://localhost:3000
DOMAIN=localhost

# Database - PostgreSQL Docker service configuration (for docker compose)
POSTGRES_DB=cogni_template_dev
POSTGRES_USER=user
POSTGRES_PASSWORD=password
DB_HOST=localhost
DB_PORT=55432
DATABASE_URL="postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${DB_HOST}:${DB_PORT}/${POSTGRES_DB}"

# Auth.js (NextAuth) - Required for authentication
# Generate with: openssl rand -base64 32
AUTH_SECRET="local-dev-secret-at-least-32-characters-long-change-me"

# LLM Integration (Stage 8) - LITELLM_BASE_URL auto-detects based on NODE_ENV
LITELLM_BASE_URL=http://localhost:4000
LITELLM_MASTER_KEY=your-litellm-master-key-here
OPENROUTER_API_KEY=your-openrouter-api-key-here
DEFAULT_MODEL=gpt-4o-mini

# Optional server config
PORT=3000
PINO_LOG_LEVEL=debug

# Grafana Cloud Loki (log aggregation)
# Get credentials from: https://grafana.com/products/cloud/ → Connections → Data Sources → Loki
GRAFANA_CLOUD_LOKI_URL="https://logs-prod-020.grafana.net/loki/api/v1/push"
GRAFANA_CLOUD_LOKI_USER="123456"  # Your numeric user ID
GRAFANA_CLOUD_LOKI_API_KEY="glc_your_api_key_here"  # API key with logs:write permission

# Public client vars
# Wallet Integration
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=get-from-walletconnect-cloud  # Get from cloud.walletconnect.com

# Crypto widget payments (DePay) - crypto-only credits
# DAO receiving wallet + chain come from .cogni/repo-spec.yaml (no env override)

# Development tokens (replace with your own)
CHERRY_AUTH_KEY=your-cherry-auth-key-here
CR_PAT=your-github-pat-here
GHCR_DEPLOY_TOKEN=your-ghcr-deploy-token-here

# Test Environment Configuration
# Used by API integration tests in tests/api/**

# For dev:stack (Next.js runs locally, containers provide infrastructure)
TEST_BASE_URL=http://localhost:3000/

# For docker:stack (everything in containers, accessible via Caddy)
# TEST_BASE_URL=https://localhost/

# Remote environments
# TEST_BASE_URL=https://your-domain.com/

# Billing Evolution Stage 6.5
USER_PRICE_MARKUP_FACTOR=2.0
CREDITS_PER_USDC=1000

## Required for Production simulation of Docker (docker:stack:setup)
# Root DB credentials
POSTGRES_ROOT_USER=postgres
POSTGRES_ROOT_PASSWORD=postgres

# App DB credentials (same as root for local testing. Production security boundary not needed)
APP_DB_NAME=cogni_template_dev
APP_DB_USER=postgres
APP_DB_PASSWORD=postgres
